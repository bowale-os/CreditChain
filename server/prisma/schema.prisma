// server/prisma/schema.prisma
datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model Insight {
    id           String    @id @default(cuid())
    tip          String
    body         String?   // Optional narration
    category     String
    hashedId     String    // Matches contract hashedId
    createdAt    DateTime  @default(now())
    upvotes      Int       @default(0)
    onChainIndex Int?      // Index of the insight on-chain
    synced       Boolean   @default(false)
}